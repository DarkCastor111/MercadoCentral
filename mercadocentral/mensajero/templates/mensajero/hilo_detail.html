{% extends "core/layout.html" %}
{% load static %}

{% block titulo %}Hilo de conversación{% endblock %}

{% block navbar %}
{% include 'core/navbar.html' %}
{% endblock %}

{% block contenido %}
<style>
  .avatar  { width:50px; height:50px; float:left; margin-right:10px; }
  .thread  { max-height:300px; overflow-y:auto; padding:0 0.5em;} 
  .msg-mine    { padding:0 0.5em 0.25em; background-color:rgba(230,242,245,.5); width:92%; margin-left:8%; }
  .msg-other   { padding:0 0.5em 0.25em; background-color:#f2f3f5; width:92%; }
</style>

    <div class="col-md-8">
        <h4 class="mb-4">Mensajes con {{interesado}}</h4>
    <!-- Mostramos los mensajes en una capa que tiene un overflow vertical de 300 píxeles -->
    <div class="thread" id="thread">
        {% for msg in object.posts.all %}
        <!-- Dependiendo del usuario asignamos una clase con un color de fondo u otro en el mensaje -->
        <div {% if request.user == msg.author %}class="msg-mine mb-3"{% else %}class="msg-other mb-3"{% endif %}>
            <small><i>Hace {{msg.fecha_emision|timesince}}</i></small><br>
            {{msg.contenido}}
        </div>
        {% endfor %}
    </div>


{% endblock %}